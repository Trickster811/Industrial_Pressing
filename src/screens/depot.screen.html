<div class="container-fluid p-0 sm_padding_15px">
  <div class="row justify-content-center">
    <div class="col-12">
      <div class="dashboard_header mb_50">
        <div class="row">
          <div class="col-lg-6">
            <div class="dashboard_header_title">
              <h3>Depot</h3>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="dashboard_breadcam text-end">
              <p>
                <a href="#" onclick='loadContent(1,"dashboard.screen.html")'
                  >Dashboard</a
                >
                <i class="fas fa-caret-right"></i> Depot
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-xl-12">
      <div class="white_box QA_section card_height_100">
        <!-- First Part -->
        <div class="box_header m-0">
          <div class="main-title">
            <h3 class="m-0">Details sur le Client</h3>
          </div>
        </div>
        <div class="QA_table mb_25">
          <table class="table lms_table_active2">
            <thead>
              <tr>
                <th scope="col">Client</th>
                <th scope="col">Telephone</th>
                <th scope="col">Date Depot</th>
                <th scope="col">Date Retrait</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <select
                    class="form-control js-example-basic-single"
                    style="width: 100%; padding: 20px"
                    onchange="autoSelectPhoneOrName(this)"
                    id="client_name_select"
                  ></select>
                </td>
                <td>
                  <select
                    class="form-control js-example-basic-single"
                    style="width: 100%; padding: 20px"
                    onchange="autoSelectPhoneOrName(this)"
                    id="client_phone_select"
                  ></select>
                </td>
                <td>
                  <input
                    type="date"
                    class="form-control"
                    placeholder="depot"
                    id="dateDepotFacture"
                    disabled
                  />
                </td>
                <td>
                  <input
                    type="date"
                    class="form-control"
                    placeholder="retrait"
                    id="dateRetraitFacture"
                    disabled
                  />
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- Second Part -->
        <div class="d-flex align-items-between box_header m-0">
          <div class="main-title">
            <h3 class="m-0">Details sur le Linge</h3>
          </div>
          <a
            onclick="AddRow()"
            id="buttonToAddRowInTable"
            class="btn btn-info btn-md text_white"
            role="button"
            aria-pressed="true"
            >Ajouter</a
          >
        </div>
        <div class="QA_table mb_25">
          <table id="clothes_details" class="table lms_table_active2">
            <thead>
              <tr>
                <th scope="col">Code</th>
                <th scope="col">Type</th>
                <th scope="col">Designation</th>
                <th scope="col">Desciption</th>
                <th scope="col">Prix Unitaire (FCFA)</th>
                <th scope="col">Action</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <select
                    id="clothe_code1"
                    class="form-control js-example-basic-single"
                    style="width: 100%"
                    onchange="autoSelectClothesDetails(this,1)"
                  ></select>
                </td>
                <td>
                  <select
                    id="clothe_type1"
                    class="form-control js-example-basic-single"
                    style="width: 100%"
                    onchange=""
                    disabled
                  ></select>
                </td>
                <td>
                  <select
                    id="clothe_name1"
                    class="form-control js-example-basic-single"
                    style="width: 100%"
                    onchange="autoSelectClothesDetails(this,1)"
                  ></select>
                </td>
                <td>
                  <!-- <select
                    id=""
                    class="form-control js-example-basic-single"
                    style="width: 100%"
                    onchange=""
                  ></select> -->
                  <input
                    id="clothe_description1"
                    type="text"
                    class="form-control"
                    value="RAS"
                  />
                </td>
                <td>
                  <select
                    id="clothe_priceUnitary1"
                    class="form-control js-example-basic-single"
                    style="width: 100%"
                    onchange="update_clothe_info(this)"
                    disabled
                  ></select>
                </td>
                <td>
                  <div
                    onclick="RemoveRow(this)"
                    class="text-center rounded bg-danger"
                  >
                    <div class="center-svg">
                      <i class="fa fa-minus"> </i>
                    </div>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- Third Part -->
        <div class="box_header m-0">
          <div class="main-title">
            <h3 class="m-0">Details du Depot</h3>
          </div>
        </div>
        <div class="QA_table">
          <table class="table lms_table_active2">
            <thead>
              <tr>
                <th scope="col">Service</th>
                <th scope="col">Nombre Articles</th>
                <th scope="col">Net a Payer (FCFA)</th>
                <th scope="col">Net Avance (FCFA)</th>
                <th scope="col">Net Restant (FCFA)</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <select
                    class="form-control js-example-basic-single"
                    style="width: 100%; padding: 20px"
                    onchange="update_clothe_info()"
                    id="service_type"
                  ></select>
                </td>
                <td>
                  <input
                    id="clothes_number"
                    type="number"
                    class="form-control"
                    value="1"
                    disabled
                  />
                </td>
                <td>
                  <input
                    id="total_to_pay"
                    type="number"
                    class="form-control"
                    value="0"
                    disabled
                  />
                </td>
                <td>
                  <input
                    id="amount_paid"
                    type="number"
                    class="form-control"
                    placeholder="avance"
                    onchange="update_remaining_to_pay()"
                  />
                </td>
                <td>
                  <input
                    id="remaining_to_pay"
                    type="number"
                    class="form-control"
                    value="0"
                    disabled
                  />
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div id="message"></div>
        <div class="white_box">
          <button
            class="btn btn-primary btn-md active"
            role="button"
            aria-pressed="true"
            onclick="createFactureController()"
          >
            Valider
          </button>
          <button
            class="btn btn-secondary btn-md active"
            role="button"
            aria-pressed="true"
            onclick="window.location.reload()"
          >
            Annuler
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  var today = new Date();
  var nextWeek = new Date(today.getTime() + 7 * 24 * 60 * 60 * 1000);

  var ddToday = String(today.getDate()).padStart(2, "0");
  var mmToday = String(today.getMonth() + 1).padStart(2, "0"); //January is 0!
  var yyyyToday = today.getFullYear();

  today = yyyyToday + "-" + mmToday + "-" + ddToday;

  var ddNextWeek = String(nextWeek.getDate()).padStart(2, "0");
  var mmNextWeek = String(nextWeek.getMonth() + 1).padStart(2, "0"); //January is 0!
  var yyyyNextWeek = nextWeek.getFullYear();

  nextWeek = yyyyNextWeek + "-" + mmNextWeek + "-" + ddNextWeek;

  document.getElementById("dateDepotFacture").value = today;
  document.getElementById("dateRetraitFacture").value = nextWeek;
</script>

<!-- Import Depot Controller -->
<script src="../controllers/depot.controller.js"></script>
